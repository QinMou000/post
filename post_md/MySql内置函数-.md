<blockquote> <br> <p style="text-align:center;"><img alt="" height="412" src="https://i-blog.csdnimg.cn/direct/6cba51481e444fb6b602b9ddab2084cd.png" width="854" /></p> <br> <p style="text-align:center;">✨✨作者主页：<a href="https://blog.csdn.net/2301_80194476?spm=1000.2115.3001.5343" title="嶔某">嶔某</a>✨✨</p> <br> <p style="text-align:center;">✨✨所属专栏：<a href="https://blog.csdn.net/2301_80194476/category_12841400.html?spm=1001.2014.3001.5482" title="MySql">MySql</a>✨</p> <br></blockquote> <br><p style="text-align:center;"><span style="color:#be191c;"><em><strong>本文的代码中， [ ] 里面的都可以省略</strong></em> </span></p> <br><h2> 日期函数</h2> <br><p style="text-align:center;"><em><span style="color:#be191c;"><strong>说明：日期xxxx-xx-xx   时间xx:xx:xx </strong></span></em></p> <br><table border="1" cellpadding="1" cellspacing="1" style="width:600px;"><tbody><tr><td>函数名称</td><td>描述</td></tr><tr><td>current_date()</td><td>当前日期</td></tr><tr><td>current_time()</td><td>当前时间</td></tr><tr><td>current_timestamp()</td><td>当前时间戳</td></tr><tr><td>date(datetime)</td><td>返回datetime参数的日期部分</td></tr><tr><td>date_add(date, interval d_value_type)</td><td> <p>在date中加上日期或时间</p> <p>interval后的数值单位可以是:</p> <p>year minute second day</p> </td></tr><tr><td>date_sub(date, interval d_value_type)</td><td> <p>在date中减去日期或时间</p> <p>interval后的数值单位可以是:</p> <p>year minute second day</p> </td></tr><tr><td>datediff(date1, date2)</td><td>两个日期的差，单位是天</td></tr><tr><td>now()</td><td>当前日期时间</td></tr></tbody></table> <br><p>基本使用： </p> <br><ul><li>获得年月日</li></ul> <br><p><img alt="" height="131" src="https://i-blog.csdnimg.cn/direct/5cc1eeff29574a2cb0e866c357ae13ba.png" width="284" /></p> <br><ul><li>获得时分秒</li></ul> <br><p><img alt="" height="136" src="https://i-blog.csdnimg.cn/direct/8d8e5b12ebee4b9692174a53405a7d4b.png" width="300" /></p> <br><ul><li>获得时间戳</li></ul> <br><p><img alt="" height="128" src="https://i-blog.csdnimg.cn/direct/e74ed032f8304ed1be6f5bbece037689.png" width="336" /></p> <br><ul><li>在日期的基础上加上日期或时间</li></ul> <br><p><img alt="" height="131" src="https://i-blog.csdnimg.cn/direct/8649d7fb92464a9bba1493bbdd7401af.png" width="494" /></p> <br><ul><li>在日期的基础上减去日期或时间</li></ul> <br><p><img alt="" height="139" src="https://i-blog.csdnimg.cn/direct/c04d66da594a4ad09ddfb7bcf7619e36.png" width="492" /></p> <br><ul><li>计算两个日期之间相差多少天（前一个减去后一个）</li></ul> <br><p><img alt="" height="132" src="https://i-blog.csdnimg.cn/direct/6550a83287b34ebd8d34557727e63aa4.png" width="653" /></p> <br><p>案例：</p> <br><ul><li>创建一个留言表</li></ul> <br><pre><code class="language-sql">create table msg (<br>id int primary key auto_increment,<br>content varchar(30) not null,<br>sendtime datetime<br>);</code></pre> <br><ul><li>插入数据</li></ul> <br><pre><code class="language-sql">insert into msg(content,sendtime) values('hello1', now());<br>insert into msg(content,sendtime) values('hello2', now());</code></pre> <br><p><img alt="" height="152" src="https://i-blog.csdnimg.cn/direct/b6e276a139e641ecaa560916eb9864ef.png" width="424" /></p> <br><ul><li><span style="color:#b95514;"><strong>查询在两分钟内发布的贴子</strong></span></li></ul> <br><pre><code class="language-sql">select content, sendtime from msg <br>where date_sub(now(), interval 2 minute)<sendtime;<br><br>select content, sendtime from msg <br>where date_add(sendtime, interval 2 minute)>now();<br></code></pre> <br><h2>字符串函数</h2> <br><table border="1" cellpadding="1" cellspacing="1" style="width:600px;"><tbody><tr><td>charset(str)</td><td>返回字符串字符集（一般就是utf-8）</td></tr><tr><td>concat(string1,[string2,...])</td><td>连接字符串</td></tr><tr><td>instr(string,substring)</td><td>返回substring在string中出现的位置，没有返回0</td></tr><tr><td>ucase(string)</td><td>转换成大写</td></tr><tr><td>lcase(string)</td><td>转换成小写</td></tr><tr><td>left(string, length),right(string, length)</td><td>从string2中的左边起职length个字符</td></tr><tr><td>length(string)</td><td> <p>string的长度，<span style="color:#b95514;"><strong>实际上是占用的字节数，一个中文占多个字节（与字符集编码有关）</strong></span></p> </td></tr><tr><td>replace(str, search_str, replace_str)</td><td>在str中用replace_str替换search str<span style="color:#b95514;"><strong>（只是显示，不会修改表中数据）</strong></span></td></tr><tr><td>strcmp(string1, string2)</td><td>逐字符比较两字符串大小</td></tr><tr><td>substring(string, position[, length])</td><td>从str的postion开始，取length个字符</td></tr><tr><td>ltrim(string), rtrim(string) trim(string)</td><td>去除前空格或后空格</td></tr></tbody></table> <br><h2>数学函数</h2> <br><table border="1" cellpadding="1" cellspacing="1" style="width:600px;"><tbody><tr><td>函数名称</td><td>描述</td></tr><tr><td>abs(number)</td><td>绝对值函数</td></tr><tr><td>bin(decimal_number)</td><td>十进制转换二进制</td></tr><tr><td>hex(decimal_number)</td><td>转换成十六进制</td></tr><tr><td>conv(number, from_base, to_base)</td><td>进制转换，从from_base进制转换为to_base进制</td></tr><tr><td>ceiling(number)</td><td>向上去整</td></tr><tr><td>floor(number)</td><td>向下去整<span style="color:#b95514;"><strong>（C语言是向零取整）</strong></span></td></tr><tr><td>format(number, decimal_number)</td><td>格式化，保留小数位数<span style="color:#b95514;"><strong>（小数四舍五入）</strong></span></td></tr><tr><td>rand()</td><td>返回随机浮点数，范围[0.0, 1.0)</td></tr><tr><td>mod(number, denominator)</td><td>取模，求余<strong><span style="color:#b95514;">（注意负数取模）</span></strong></td></tr></tbody></table> <br><h2>其他函数</h2> <br><ul><li>user() 查询当前用户</li></ul> <br><p><img alt="" height="135" src="https://i-blog.csdnimg.cn/direct/3401000fbaad4cd9b6dc172ed34469b5.png" width="277" /></p> <br><ul><li>md5() 对一个字符串进行md5摘要，摘要后得到一个32位字符串</li></ul> <br><p><img alt="" height="132" src="https://i-blog.csdnimg.cn/direct/6ce51c8829284e7e9ae1065d895b4206.png" width="361" /></p> <br><ul><li>database() 显示当前正在使用的数据库</li></ul> <br><p><img alt="" height="131" src="https://i-blog.csdnimg.cn/direct/b205f0e0766043ce9afe880b77367ac4.png" width="373" /></p> <br><ul><li>SHA2()函数 </li></ul> <br><p>password() MySql使用该函数对用户加密（从 MySQL 8.0.11 开始，函数password()已被弃用）</p> <br><p>推荐使用更新的哈希算法对密码进行加密如SHA2()函数</p> <br><p><img alt="" height="134" src="https://i-blog.csdnimg.cn/direct/013e93478ec04b27ae21ac854ef12a45.png" width="644" /></p> <br><pre><code class="language-sql">SHA2('qinqin', 256);<br>这将会生成一个 256 位的加密哈希值</code></pre> <br><p>SHA-256会生成一个 256 位的加密哈希值，<span style="color:#b95514;"><strong>256 位 等于 32 字节（每个字节是 8 位）</strong></span>。MySQL 返回的哈希值是十六进制字符串，每个字节用两个十六进制字符表示（如 00、FF）。因此，<span style="color:#b95514;"><strong>32 字节的哈希值最终变成 64 个十六进制字符</strong></span></p> <br><ul><li>ifnull(val1, val2) <span style="color:#333333;">如果</span><span style="color:#333333;">val1</span><span style="color:#333333;">为</span><span style="color:#333333;">null</span><span style="color:#333333;">，回</span><span style="color:#333333;">val2</span><span style="color:#333333;">，否则返回</span><span style="color:#333333;">val1</span><span style="color:#333333;">的值</span></li></ul> <br><p><img alt="" height="340" src="https://i-blog.csdnimg.cn/direct/ff57d40d3e1340de914634561abc5ec4.png" width="509" /></p> <br><p style="text-align:center;"> <strong>本期博客到这里就结束了，如果有什么错误，欢迎指出，如果对你有帮助，请点个赞，谢谢！</strong> </p>