<blockquote> <br> <p style="text-align:center;"><img alt="" height="576" src="https://i-blog.csdnimg.cn/direct/a46182e6318c4593a5c674f2bf9439d4.jpeg" width="1024" /></p> <br> <p style="text-align:center;">✨✨所属专栏：<a href="https://blog.csdn.net/2301_80194476/category_12799988.html" title="Linux">Linux</a>✨✨</p> <br> <p style="text-align:center;">✨✨作者主页：<a href="https://blog.csdn.net/2301_80194476?spm=1000.2115.3001.5343" title="嶔某">嶔某</a>✨✨</p> <br></blockquote> <br><p><em><strong>linux系统下有两种用户</strong></em></p> <br><blockquote> <br> <ul><li>root（超级用户）：不受限制，可以在linux下做任何事，为所欲为。</li><li>普通用户 ：受权限的约束，做有限的事。</li><li>超级用户的命令提示符是“#”，普通用户的命令提示符是“$”。</li></ul> <br></blockquote> <br><h2 style="background-color:transparent;"> 访问者分类</h2> <br><blockquote> <br> <ul><li>文件和文件目录的所有者：u---User</li><li>文件和文件目录的所有者所在的组的用户：g---Group</li><li>其它用户：o---Others </li></ul> <br></blockquote> <br><h2> 文件类型和访问权限</h2> <br><p><img alt="" height="650" src="https://i-blog.csdnimg.cn/direct/bb966e02a64e44a3b7e582b34fa64640.png" width="1200" /></p> <br><h3>文件类型</h3> <br><blockquote> <br> <p><strong>d：文件夹</strong></p> <br> <p><strong>-：普通文件</strong></p> <br> <p><strong>l：软链接（类似Windows的快捷方式）</strong></p> <br> <p><strong>b：块设备文件（硬盘，光驱等）</strong></p> <br> <p><strong>p：管道文件</strong></p> <br> <p><strong>c：字符设备威廉（例如屏幕等串口设备）</strong></p> <br> <p><strong>s：套接口文件 </strong></p> <br></blockquote> <br><h3>基本权限 </h3> <br><p><em><strong>括号内是权限的字符表示方法/8进制表示方法，对应的比如rw权限的8进制表示方法就是4 + 2 = 6。 </strong></em></p> <br><blockquote> <br> <ul><li>读（r/4）：Read对文件而言，可以读取文件内容；对目录来说，可以浏览该目录信息。</li><li>写（w/2）：Write对文件而言，可以修改文件内容；对目录来说，可以删除移动该目录内的文件。</li><li>执行（x/1）：Execute对文件而言，可以执行文件；对目录来说，可以进入目录内。</li></ul> <br></blockquote> <br><h2 style="background-color:transparent;">文件访问权限的相关设置方法</h2> <br><h3>chmod </h3> <br><blockquote> <br> <ul><li>命令：chmod</li><li>功能：设置文件的访问权限</li><li>常用选项：</li><li>R --- 递归修改目录的权限</li></ul> <br></blockquote> <br><ul><li><strong>格式：chmod  用户表示符+/-/=权限字符  文件名</strong><strong> </strong></li></ul> <br><pre><code class="language-cpp"># chmod u+w /home/abc.txt<br># chmod o-x /home/abc.txt<br><br>// 三位8进制数据<br># chmod 664 /home/abc.txt<br># chmod 640 /home/abc.txt</code></pre> <br><p><span style="color:#be191c;"><strong>注：只有文件的拥有者和root才能改变文件的权限</strong></span></p> <br><h3 style="background-color:transparent;">chown</h3> <br><p>功能：修改文件或目录的所属组</p> <br><p>常用选项： -R递归修改文件或目录的拥有者</p> <br><p>格式：chown [参数] 用户名 文件名</p> <br><p>实例：</p> <br><pre><code class="language-cpp"># chown user1 f1<br># chown -R user1 filegroup1</code></pre> <br><h3>chgrp</h3> <br><p>功能：修改文件或目录的所属组</p> <br><p>格式：chgrp [参数] 用户组名 文件名</p> <br><p>常用选项： -R递归修改文件或目录的所属组</p> <br><p>实例;</p> <br><pre><code class="language-cpp"># chgrp user1 f1<br># chgrp -R user1 filegroup1</code></pre> <br><h3>umask </h3> <br><ul><li><span style="color:#4da8ee;">新建文件夹默认权限=0666</span></li><li><span style="color:#4da8ee;">新建目录默认权限=0777</span></li></ul> <br><p>功能：查看或修改文件掩码</p> <br><p>但实际上你所创建的文件和目录，看到的权限往往不是上面这个值。原因就是创建文件或目录的时候还要受到 umask的影响。假设默认权限是mask，则实际创建的出来的文件权限是: <span style="color:#be191c;"><strong>mask & ~umask</strong></span></p> <br><p>格式：</p> <br><ul><li>umask  权限值（修改）</li><li>umask （查看）</li></ul> <br><blockquote> <br> <p><em>超级用户默认掩码值为0022，普通用 户默认为0002</em></p> <br> <p><img alt="" height="237" src="https://i-blog.csdnimg.cn/direct/ed666611cb4d4d21837d113950136e11.png" width="862" /></p> <br></blockquote> <br><h2>file指令 </h2> <br><p>功能：辨识文件类型</p> <br><p>语法：file  [选项]  文件/目录</p> <br><p>常用选项：</p> <br><ul><li>-c 详细显示指令执行过程，便于排错或分析程序执行的情形。</li><li>-z 尝试去解读压缩文件的内容。</li></ul> <br><h2> 目录的权限</h2> <br><ul><li><span style="color:#0d0016;"><strong>可执行权限: 如果目录没有可执行权限, 则无法cd到目录中</strong></span></li><li><span style="color:#0d0016;"><strong>可读权限: 如果目录没有可读权限, 则无法用ls等命令查看目录中的文件内容</strong></span></li><li><span style="color:#0d0016;"><strong>可写权限: 如果目录没有可写权限, 则无法在目录中创建文件, 也无法在目录中删除文件</strong></span></li></ul> <br><p> 那么问题来了只要一个用户拥有了目录的写权限，不论这个用户是否拥有文件的写权限，那么就可以删除目录中的文件了。</p> <br><p>那这样的话，用户小汪和小欽都有一个目录的写权限，小汪在目录下创建了一个文件，小欽可以对这个文件进行删除操作。这显然不符常理。</p> <br><p>为了解决这歌不合理的问题，Linux引入了粘滞位的概念</p> <br><h2>粘滞位</h2> <br><p>当一个目录被设置为"粘滞位"(用chmod +t),则该目录下的文件只能由</p> <br><ol><li>超级管理员删除</li><li>该目录的所有者删除</li><li>该文件的所有者删除</li></ol> <br><p><img alt="" height="404" src="https://i-blog.csdnimg.cn/direct/8af4936f22be415788935ec194746716.png" width="1200" /></p> <br><p><em>总结： </em></p> <br><ul><li><em>目录的可执行权限是表示你可否在目录下执行命令。 </em></li><li><em>如果目录没有-x权限，则无法对目录执行任何命令，甚至无法cd进入, 即使目录仍然有-r读权限。（这个地方很容易犯错，认为有读权限就可以进入目录读取目录下的文件） </em></li><li><em>而如果目录具有-x权限，但没有-r权限，则用户可以执行命令，可以cd进入目录。但由于没有目录的读权限，</em><em>所以在目录下，即使可以执行ls命令，但仍然没有权限读出目录下的文档。</em></li></ul> <br><p style="text-align:center;"><span style="color:#0d0016;"><strong> 本期博客到这里就结束了，如果有什么错误，欢迎指出，如果对你有帮助，请点个赞，谢谢！</strong></span></p>