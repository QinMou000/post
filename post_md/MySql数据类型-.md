<blockquote> <br> <p style="text-align:center;"><img alt="" height="412" src="https://i-blog.csdnimg.cn/direct/6cba51481e444fb6b602b9ddab2084cd.png" width="854" /></p> <br> <p style="text-align:center;">✨✨作者主页：<a href="https://blog.csdn.net/2301_80194476?spm=1000.2115.3001.5343" title="嶔某">嶔某</a>✨✨</p> <br> <p style="text-align:center;">✨✨所属专栏：<a href="https://blog.csdn.net/2301_80194476/category_12841400.html?spm=1001.2014.3001.5482" title="MySql">MySql</a>✨✨</p> <br></blockquote> <br><h2> 数据类型分类</h2> <br><table align="left" border="1" cellpadding="1" cellspacing="1" style="width:600px;"><tbody><tr><td>分类</td><td>数据类型</td><td>说明</td></tr><tr><td colspan="1" rowspan="9">数值类型</td><td>BIT(M)</td><td>位类型，M指定位数，默认值1，范围1~64</td></tr><tr><td>TINYINT [UNSIGNED]</td><td>占用一个字节，带符号的范围 -128~127，无符号范围0~255，默认有符号</td></tr><tr><td>BOOL</td><td>使用1，0表示真和假</td></tr><tr><td>SMALLINT [UNSIGNED]</td><td>占用两个字节带符号是-2^15 到 2^15-1，无符号是0 到 2^16 - 1</td></tr><tr><td>INT [UNSIGNED]</td><td>占用四个字节带符号是-2^31到 2^31-1，无符号是0 到 2^32- 1</td></tr><tr><td>BIGINT [UNSIGNED]</td><td>占用八个字节带符号是-2^63到 2^63-1，无符号是0 到 2^64- 1</td></tr><tr><td>FLOAT [(M, D)] [UNSIGNED]</td><td>M指定显示长度，D表示小数点后的位数</td></tr><tr><td>BOUBLE [(M, D)] [UNSIGNED]</td><td>表示比float精度更大的小数，占用8字节空间</td></tr><tr><td>DECIMAL (M, D) [UNSIGNED]</td><td>定点数M指定长度，D表示小数点的位数</td></tr><tr><td colspan="1" rowspan="4">文本、二进制类型</td><td>CHAR (size)</td><td>固定长度字符串，最大255</td></tr><tr><td>VARCHAR(SIZE)</td><td>可变长度字符串，最大65535</td></tr><tr><td>BLOB</td><td>二进制数据</td></tr><tr><td>TEXT</td><td>大文本，不支持全文索引，不支持默认值</td></tr><tr><td>时间日期</td><td>DATE / DATETIME / TIMESTAMP</td><td>日期类型(yyyy-mm-dd) (yyyy-mm-dd hh:mm:ss) <br /> timestamp是一个时间戳  </td></tr><tr><td colspan="1" rowspan="2">String类型</td><td>ENUM 类型</td><td>ENUM是一个字符串对象，其值来自表创建时在列规定中显示枚举的一列值</td></tr><tr><td>SET 类型</td><td> <p>SET是一个字符串对象，可以有零或多个值，其来自表创建时规定的一列值。指定包括多个set成员的set列值是各成员用逗号隔开。这样set成员值本身不能包含逗号。</p> </td></tr></tbody></table> <br><p></p> <br><p></p> <br><p></p> <br><p></p> <br><p></p> <br><p></p> <br><p></p> <br><p></p> <br><p></p> <br><p></p> <br><p></p> <br><p></p> <br><p></p> <br><p></p> <br><p></p> <br><p></p> <br><p></p> <br><p></p> <br><p></p> <br><p></p> <br><p></p> <br><p></p> <br><p></p> <br><h3 style="background-color:transparent;"> tinyint类型</h3> <br><p><span style="color:#b95514;"><strong>注意：</strong></span></p> <br><ul><li><span style="color:#333333;">在</span><span style="color:#333333;">MySQL</span><span style="color:#333333;">中，整型可以指定是有符号的和无符号的，默认是有符号的。 可以通过UNSIGNED</span><span style="color:#333333;">来说明某个字段是无符号的</span></li><li><span style="color:#b95514;"><strong>尽量不使用unsigned，对于int类型可能存放不下的数据，int unsigned同样可能存放不</strong></span><span style="color:#b95514;"><strong>下，与其如此，还不如设计时，将int类型提升为bigint类型</strong></span></li></ul> <br><h3>bit类型 </h3> <br><pre><code class="language-cpp">bit[(M)] : 位字段类型。M表示每个值的位数，范围从1到64。如果M被忽略，默认为1。</code></pre> <br><p><span style="color:#b95514;"><strong>注意 </strong></span></p> <br><ul><li><span style="color:#b95514;"><strong>bit字段在显示时，是按照ASCII码对应的值显示</strong></span></li><li><span style="color:#b95514;"><strong>如果我们有这样的值，只存放0或1，这时可以定义bit(1)。这样可以节省空间。 </strong></span></li></ul> <br><pre><code class="language-cpp">mysql> create table tt5(gender bit(1));<br>mysql> insert into tt5 values(0);<br>Query OK, 1 row affected (0.00 sec)<br>mysql> insert into tt5 values(1);<br>Query OK, 1 row affected (0.00 sec)<br>mysql> insert into tt5 values(2); -- 当插入2时，已经越界了<br>ERROR 1406 (22001): Data too long for column 'gender' at row 1</code></pre> <br><h3> float类型</h3> <br><pre><code class="language-cpp">float[(m, d)] [unsigned] : M指定显示长度，d指定小数位数，占用空间4个字节</code></pre> <br><div> <br> <span style="color:#ed7976;">案例： </span> <br></div> <br><div> <br> <span style="color:#ed7976;">小数：float(4,2)表示的范围是-99.99 ~ 99.99，MySQL在保存值时会进行四舍五入。</span> <br></div> <br><h3>decimal类型</h3> <br><pre><code class="language-cpp">decimal(m, d) [unsigned] : 定点数m指定长度，d表示小数点的位数</code></pre> <br><ul><li><span style="color:#333333;">decimal(5,2) </span><span style="color:#333333;">表示的范围是</span><span style="color:#333333;"> -999.99 ~ 999.99 </span></li><li><span style="color:#333333;">decimal(5,2) unsigned </span><span style="color:#333333;">表示的范围</span><span style="color:#333333;"> 0 ~ 999.99 </span></li><li><span style="color:#333333;">decimal</span><span style="color:#333333;">和</span><span style="color:#333333;">float</span><span style="color:#333333;">很像，但是有区别</span></li><li><span style="color:#333333;">float</span><span style="color:#333333;">和</span><span style="color:#333333;">decimal</span><span style="color:#333333;">表示的精度不一样</span></li><li> <br>  <div> <br>   <span style="color:#333333;">decimal</span> <br>   <span style="color:#333333;">的精度更准确，因此如果我们希望某个数据表示高精度，选择decimal</span> <br>  </div> </li><li> <br>  <div> <br>   <span style="color:#333333;">float</span> <br>   <span style="color:#333333;">表示的精度大约是</span> <br>   <span style="color:#333333;">7</span> <br>   <span style="color:#333333;">位。</span> <br>  </div> </li><li> <br>  <div> <br>   <div> <br>    <span style="color:#333333;">decimal</span> <br>    <span style="color:#333333;">整数最大位数</span> <br>    <span style="color:#333333;">m</span> <br>    <span style="color:#333333;">为</span> <br>    <span style="color:#333333;">65</span> <br>    <span style="color:#333333;">。支持小数最大位数</span> <br>    <span style="color:#333333;">d</span> <br>    <span style="color:#333333;">是</span> <br>    <span style="color:#333333;">30</span> <br>    <span style="color:#333333;">。如果</span> <br>    <span style="color:#333333;">d</span> <br>    <span style="color:#333333;">被省略，默认为</span> <br>    <span style="color:#333333;">0.</span> <br>    <span style="color:#333333;">如果</span> <br>    <span style="color:#333333;">m</span> <br>    <span style="color:#333333;">被省略， 默认是10</span> <br>    <span style="color:#333333;">。</span> <br>   </div> <br>  </div> </li></ul> <br><h3 style="background-color:transparent;">char类型 </h3> <br><pre><code class="language-cpp">char(L): 固定长度字符串，L是可以存储的长度，单位为字符，最大长度值可以为255</code></pre> <br><div> <br> <span style="color:#b95514;"><strong>char(2) 表示可以存放两个字符，可以是字母或汉字，但是不能超过2个， 最多只能是255</strong></span> <br></div> <br><p></p> <br><h3>varchar类型 </h3> <br><pre><code class="language-cpp">varchar(L): 可变长度字符串，L表示字符长度，最大长度65535个字节</code></pre> <br><div> <br> <span style="color:#333333;">关于</span> <br> <span style="color:#333333;">varchar(len),len</span> <br> <span style="color:#333333;">到底是多大，这个</span> <br> <span style="color:#333333;">len</span> <br> <span style="color:#333333;">值，和表的编码密切相关：</span> <br></div> <br><div> <br> <ul><li><span style="color:#b95514;"><strong>varchar长度可以指定为0到65535之间的值，但是有1 - 3 个字节用于记录数据大小，所以说有效字节数是65532。 </strong></span></li><li><span style="color:#b95514;"><strong>当我们的表的编码是utf8时，varchar(n)的参数n最大值是65532/3=21844 [因为utf中，一个字符占用3个字节]，如果编码是gbk，varchar(n)的参数n最大是65532/2=32766（因为gbk中，一个字符占用2字节）。</strong></span></li></ul> <br> <h3>比较char和varchar</h3> <br> <table border="1" cellpadding="1" cellspacing="1" style="width:600px;"><tbody><tr><td>实际储存</td><td>char(4)</td><td>varchar(4)</td><td>char占用字节</td><td>varchar占用字节</td></tr><tr><td>abcd</td><td>abcd</td><td>abcd</td><td>4 * 3 = 12</td><td>4 * 3 + 1 = 13</td></tr><tr><td>A</td><td>A</td><td>A</td><td>4 * 3 = 12</td><td>1 * 3 +1 = 4</td></tr><tr><td>Abcde</td><td>X</td><td>X</td><td>数据超过可储存长度</td><td>数据超过可储存长度</td></tr></tbody></table> <br> <div> <br>  <span style="color:#333333;"><strong>如何选择定长或变长字符串？ </strong></span> <br> </div> <br> <ul><li><span style="color:#b95514;"><strong>如果数据确定长度都一样，就使用定长（char）</strong></span><span style="color:#333333;">，比如：身份证，手机号，</span><span style="color:#333333;">md5 </span></li><li><span style="color:#b95514;"><strong>如果数据长度有变化,就使用变长(varchar)</strong></span><span style="color:#333333;">, </span><span style="color:#333333;">比如：名字，地址，但是你要保证最长的能存的进去。 </span></li><li><span style="color:#333333;">定长的磁盘空间比较浪费，但是效率高。 </span></li><li><span style="color:#333333;">变长的磁盘空间比较节省，但是效率低。 </span></li><li><span style="color:#333333;">定长的意义是，直接开辟好对应的空间 </span></li><li><span style="color:#333333;">变长的意义是，在不超过自定义范围的情况下，用多少，开辟多少。</span></li></ul> <br></div> <br><h3> 日期和时间类型</h3> <br><div> <br> <span style="color:#333333;">常用的日期有如下三个： </span> <br></div> <br><ul><li><span style="color:#333333;">date </span><span style="color:#333333;">:</span><span style="color:#333333;">日期 </span><span style="color:#333333;">'yyyy</span><span style="color:#333333;">-</span><span style="color:#333333;">mm</span><span style="color:#333333;">-</span><span style="color:#333333;">dd' </span><span style="color:#333333;">，</span><span style="color:#b95514;"><strong>占用三字节</strong></span><span style="color:#be191c;"><strong> </strong></span></li><li><span style="color:#333333;">datetime </span><span style="color:#333333;">时间日期格式 </span><span style="color:#333333;">'yyyy</span><span style="color:#333333;">-</span><span style="color:#333333;">mm</span><span style="color:#333333;">-</span><span style="color:#333333;">dd HH:ii:ss' </span><span style="color:#333333;">表示范围从 </span><span style="color:#333333;">1000 </span><span style="color:#333333;">到 </span><span style="color:#333333;">9999 </span><span style="color:#333333;">，</span><span style="color:#b95514;"><strong>占用八字节 </strong></span></li><li><span style="color:#333333;">timestamp </span><span style="color:#333333;">：时间戳，从</span><span style="color:#333333;">1970</span><span style="color:#333333;">年开始的 </span><span style="color:#333333;">yyyy</span><span style="color:#333333;">-</span><span style="color:#333333;">mm</span><span style="color:#333333;">-</span><span style="color:#333333;">dd HH:ii:ss </span><span style="color:#333333;">格式和 </span><span style="color:#333333;">datetime </span><span style="color:#333333;">完全一致，</span><strong><span style="color:#b95514;">占用四字节</span></strong></li></ul> <br><h3> enum和set类型</h3> <br><pre><code class="language-cpp">enum('选项1','选项2','选项3',...);</code></pre> <br><div> <br> <span style="color:#333333;">该设定只是提供了若干个选项的值，最终一个单元格中，实际</span> <br> <span style="color:#b95514;"><strong>只存储了其中一个值</strong></span> <br> <span style="color:#333333;">；而且出于效率考虑，</span> <br> <span style="color:#b95514;"><strong>这些值实际存储的是“数字”</strong></span> <br> <span style="color:#333333;">，因为这些选项的每个选项值依次对应如下数字：</span> <br> <span style="color:#333333;">1,2,3,....</span> <br> <span style="color:#333333;">最多</span> <br> <span style="color:#333333;">65535 个；当我们添加枚举值时，也可以添加对应的数字编号。</span> <br></div> <br><div></div> <br><pre><code class="language-cpp">set('选项值1','选项值2','选项值3', ...);</code></pre> <br><div> <br> <span style="color:#333333;">该设定只是提供了若干个选项的值，最终一个单元格中，设计</span> <br> <span style="color:#b95514;"><strong>可存储了其中任意多个值</strong></span> <br> <span style="color:#333333;">；而且出于效率考虑，</span> <br> <span style="color:#b95514;"><strong>这些值实际存储的是“数字”</strong></span> <br> <span style="color:#333333;">，因为这些选项的每个选项值依次对应如下数字：</span> <br> <span style="color:#333333;">1,2,4,8,16,32</span> <br> <span style="color:#333333;">，</span> <br> <span style="color:#333333;">.... 最多64</span> <br> <span style="color:#333333;">个。</span> <br></div> <br><div> <br> <em><span style="color:#777777;">不建议在添加枚举值，集合值的时候采用数字的方式，因为不利于阅读。</span></em> <br></div> <br><div></div> <br><div></div> <br><div> <br> <div> <br>  <span style="color:#333333;">案例： </span> <br> </div> <br> <div> <br>  <span style="color:#333333;">有一个调查表</span> <br>  <span style="color:#333333;">votes</span> <br>  <span style="color:#333333;">，需要调查人的喜好， 比如（登山，游泳，篮球，武术）中去选择</span> <br>  <span style="color:#333333;">(</span> <br>  <span style="color:#333333;">可以多选</span> <br>  <span style="color:#333333;">)</span> <br>  <span style="color:#333333;">， （男，女）[</span> <br>  <span style="color:#333333;">单选</span> <br>  <span style="color:#333333;">]</span> <br> </div> <br></div> <br><div> <br> <pre><code class="language-cpp">mysql> create table votes(<br>-> username varchar(30),<br>-> hobby set('登山','游泳','篮球','武术'), --注意：使用数字标识每个爱好的时候，想想<br>Linux权限，采用比特位位置来个set中的爱好对应起来<br>-> gender enum('男','女')); --注意：使用数字标识的时候，就是正常的数组下标<br>Query OK, 0 rows affected (0.02 sec)</code></pre> <br> <div> <br>  <span style="color:#333333;"><strong>集合查询使用</strong></span> <br>  <span style="color:#333333;"><strong>find_ in_ set</strong></span> <br>  <span style="color:#333333;"><strong>函数： </strong></span> <br> </div> <br> <div> <br>  <span style="color:#333333;">find_in_set(sub,str_list) </span> <br>  <span style="color:#333333;">：如果 </span> <br>  <span style="color:#333333;">sub </span> <br>  <span style="color:#333333;">在 </span> <br>  <span style="color:#333333;">str_list </span> <br>  <span style="color:#333333;">中，则返回下标；如果不在，返回</span> <br>  <span style="color:#333333;">0</span> <br>  <span style="color:#333333;">； </span> <br> </div> <br> <div> <br>  <span style="color:#333333;">str_list </span> <br>  <span style="color:#333333;">用逗号分隔的字符串。</span> <br> </div> <br> <div></div> <br> <div> <br>  <em><strong><span style="color:#333333;">查询爱好登山的人</span></strong></em> <br> </div> <br> <div></div> <br> <div> <br>  <pre><code class="language-cpp">mysql> select * from votes where find_in_set('登山', hobby);<br>+----------+---------------+--------+<br>| username | hobby     | gender     |<br>+----------+---------------+--------+<br>| 雷锋     | 登山,武术   | 男         |<br>| Juse     | 登山,武术  | 女         |<br>| LiLei    | 登山       | 男         |<br>+----------+---------------+--------+</code></pre> <br> </div> <br></div> <br><p style="text-align:center;"> <strong>本期博客到这里就结束了，如果有什么错误，欢迎指出，如果对你有帮助，请点个赞，谢谢！</strong></p>